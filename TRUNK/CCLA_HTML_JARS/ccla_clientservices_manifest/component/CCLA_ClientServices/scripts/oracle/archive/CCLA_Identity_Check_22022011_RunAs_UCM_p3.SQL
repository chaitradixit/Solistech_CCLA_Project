/* Copy data from ccla_identity_check to identity_check */
INSERT INTO IDENTITY_CHECK
(SELECT * FROM CCLA_IDENTITY_CHECK);

/* Copy data from ccla_identity_check_audit to identity_check_audit */
INSERT INTO IDENTITY_CHECK_AUDIT
(SELECT * FROM CCLA_IDENTITY_CHECK_AUDIT aud WHERE aud.PERSON_ID IN (SELECT PERSON_ID FROM PERSON));

/* Copy data from ccla_identity_validation_check to identity_validation_check */
INSERT INTO IDENTITY_VALIDATION_CHECK 
(SELECT PERSON_ID,
  DRIVING_LICENCE,
  DRIVING_LICENCE_NAME,
  PASSPORT_NUMBER,
  UTILITY_MAILSORT,
  UTILITY_MAILSORT_DATE,
  DRIVING_LICENCE_VALID,
  PASSPORT_VALID,
  MAILSORT_VALID,
  CROCKFORDS_ID,
  CROCKFORDS_VALUE,
  CROCKFORDS_VALID,
  DATE_LAST_UPDATED FROM CCLA_IDENTITY_VALIDATION_CHECK chk WHERE chk.PERSON_ID IN (SELECT PERSON_ID FROM PERSON));

/* Copy data from ccla_identity_check_lookup to identity_check_lookup */
INSERT INTO IDENTITY_CHECK_LOOKUP
(SELECT * FROM CCLA_IDENTITY_CHECK_LOOKUP);

/* rename legacy tables by appending _OLD*/
ALTER TABLE CCLA_IDENTITY_CHECK_LOOKUP RENAME TO CCLA_IDENTITY_CHECK_LOOKUP_OLD;
ALTER TABLE CCLA_IDENTITY_CHECK RENAME TO CCLA_IDENTITY_CHECK_OLD;
ALTER TABLE CCLA_IDENTITY_CHECK_AUDIT RENAME TO CCLA_IDENTITY_CHECK_AUDIT_OLD;
ALTER TABLE CCLA_IDENTITY_VALIDATION_CHECK RENAME TO CCLA_IDENTITY_VAL_CHECK_OLD;
