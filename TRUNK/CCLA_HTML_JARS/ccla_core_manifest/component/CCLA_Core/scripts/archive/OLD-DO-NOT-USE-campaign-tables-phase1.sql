

CREATE TABLE REF_CAMPAIGN_STATUS(
  CAMPAIGN_STATUS_ID Number(15,0) NOT NULL,
  CAMPAIGN_STATUS_NAME Varchar2(60 ) NOT NULL,
  STATUS_DESCRIPTION Varchar2(100 )
);
/

ALTER TABLE REF_CAMPAIGN_STATUS ADD CONSTRAINT Key27 PRIMARY KEY (CAMPAIGN_STATUS_ID);
/




CREATE TABLE REF_CAMPAIGN_TYPE(
  CAMPAIGN_TYPE_ID Number(15,0) NOT NULL,
  CAMPAIGN_TYPE_NAME Varchar2(60 ) NOT NULL,
  TYPE_DESCRIPTION Varchar2(100 )
);
/

ALTER TABLE REF_CAMPAIGN_TYPE ADD CONSTRAINT Key28 PRIMARY KEY (CAMPAIGN_TYPE_ID);
/





CREATE TABLE CAMPAIGN(
  CAMPAIGN_ID Number(15,0) NOT NULL,
  CAMPAIGN_NAME Varchar2(60 ) NOT NULL,
  CAMPAIGN_DESCRIPTION Varchar2(200 ),
  START_DATE Timestamp(6) NOT NULL,
  END_DATE Timestamp(6) NOT NULL,
  CAMPAIGN_STATUS_ID Number(15,0) NOT NULL,
  CAMPAIGN_TYPE_ID Number(15,0) NOT NULL,
  FUND_CODE Varchar2(2 CHAR),
  PROCESS_HANDLER_CLASS Varchar2(50 ),
  IDOC_INCLUDE_INFIX Varchar2(50 ),
  OWNER Char(20 ) NOT NULL,
  DATE_ADDED Timestamp(6) NOT NULL,
  LAST_UPDATED Timestamp(6) NOT NULL,
  LAST_UPDATED_BY Varchar2(60 ) NOT NULL
);
/

ALTER TABLE CAMPAIGN ADD CONSTRAINT Key29 PRIMARY KEY (CAMPAIGN_ID);
/

COMMENT ON COLUMN CAMPAIGN.PROCESS_HANDLER_CLASS IS 'This is the java class specific to the campaign. This is included for legacy reasons and may not be used in future'
/

COMMENT ON COLUMN CAMPAIGN.IDOC_INCLUDE_INFIX IS 'Idoc include for the campaign. Included for legacy reasons and may not be used in future.'
/

COMMENT ON COLUMN CAMPAIGN.OWNER IS 'The owner of the campaign.  This may not be the person who created it or last updated the campaign but the business owner of it.'
/



CREATE TABLE CAMPAIGN_PROCESS(
  PROCESS_ID Number(15,0) NOT NULL,
  CAMPAIGN_ID Number(15,0) NOT NULL,
  PERSON_ID Number(15,0),
  ORGANISATION_ID Number(15,0),
  CONTACT_ADDRESS_ID Number(12,0),
  PROCESS_STATUS_ID Number(15,0) NOT NULL,
  DATE_ADDED Timestamp(6) NOT NULL,
  LAST_UPDATED Varchar2(30 ) NOT NULL,
  LAST_UPDATED_BY Varchar2(60 ) NOT NULL
);
/

ALTER TABLE CAMPAIGN_PROCESS ADD CONSTRAINT Key30 PRIMARY KEY (PROCESS_ID);
/




CREATE TABLE REF_CAMPAIGN_PROCESS_STATUS(
  PROCESS_STATUS_ID Number(15,0) NOT NULL,
  PROCESS_STATUS_NAME Varchar2(60 ) NOT NULL,
  STATUS_DESCRIPTION Varchar2(100 )
);
/

ALTER TABLE REF_CAMPAIGN_PROCESS_STATUS ADD CONSTRAINT Key31 PRIMARY KEY (PROCESS_STATUS_ID);
/



CREATE INDEX IX_REF_CAMPAIGN_STATUS_FK ON CAMPAIGN (CAMPAIGN_STATUS_ID) ;
/
ALTER TABLE CAMPAIGN ADD CONSTRAINT REF_CAMPAIGN_STATUS_FK FOREIGN KEY (CAMPAIGN_STATUS_ID) REFERENCES REF_CAMPAIGN_STATUS (CAMPAIGN_STATUS_ID);
/
CREATE INDEX IX_REF_CAMPAIGN_TYPE_FK ON CAMPAIGN (CAMPAIGN_TYPE_ID) ;
/
ALTER TABLE CAMPAIGN ADD CONSTRAINT REF_CAMPAIGN_TYPE_FK FOREIGN KEY (CAMPAIGN_TYPE_ID) REFERENCES REF_CAMPAIGN_TYPE (CAMPAIGN_TYPE_ID);
/
CREATE INDEX IX_FUND_CAMPAIGN_FK ON CAMPAIGN (FUND_CODE) ;
/
ALTER TABLE CAMPAIGN ADD CONSTRAINT FUND_CAMPAIGN_FK FOREIGN KEY (FUND_CODE) REFERENCES FUND (FUND_CODE);
/
CREATE INDEX IX_CAMPAIGN_PROCESS_FK ON CAMPAIGN_PROCESS (CAMPAIGN_ID) ;
/
ALTER TABLE CAMPAIGN_PROCESS ADD CONSTRAINT CAMPAIGN_PROCESS_FK FOREIGN KEY (CAMPAIGN_ID) REFERENCES CAMPAIGN (CAMPAIGN_ID);
/
CREATE INDEX IX_PERSON_CAMPAIGN_PROCESS_FK ON CAMPAIGN_PROCESS (PERSON_ID) ;
/
ALTER TABLE CAMPAIGN_PROCESS ADD CONSTRAINT PERSON_CAMPAIGN_PROCESS_FK FOREIGN KEY (PERSON_ID) REFERENCES PERSON (PERSON_ID);
/
CREATE INDEX IX_ORG_CAMPAIGN_PROCESS_FK ON CAMPAIGN_PROCESS (ORGANISATION_ID) ;
/
ALTER TABLE CAMPAIGN_PROCESS ADD CONSTRAINT ORG_CAMPAIGN_PROCESS_FK FOREIGN KEY (ORGANISATION_ID) REFERENCES ORGANISATION (ORGANISATION_ID);
/
CREATE INDEX IX_ADDRESS_CAMPAIGN_PROCESS_FK ON CAMPAIGN_PROCESS (CONTACT_ADDRESS_ID) ;
/
ALTER TABLE CAMPAIGN_PROCESS ADD CONSTRAINT ADDRESS_CAMPAIGN_PROCESS_FK FOREIGN KEY (CONTACT_ADDRESS_ID) REFERENCES ADDRESS (ADDRESS_ID);
/
CREATE INDEX IX_STATUS_CAMPAIGN_PROCESS_FK ON CAMPAIGN_PROCESS (PROCESS_STATUS_ID) ;
/
ALTER TABLE CAMPAIGN_PROCESS ADD CONSTRAINT PROCESS_STATUS_CAMP_PROCESS_FK FOREIGN KEY (PROCESS_STATUS_ID) REFERENCES REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID);


GRANT ALL ON CAMPAIGN TO UCMADMIN;
GRANT ALL ON CAMPAIGN_PROCESS TO UCMADMIN;
GRANT ALL ON REF_CAMPAIGN_STATUS TO UCMADMIN;
GRANT ALL ON REF_CAMPAIGN_TYPE TO UCMADMIN;
GRANT ALL ON REF_CAMPAIGN_PROCESS_STATUS TO UCMADMIN;



--------------- DATA -----------------

REM INSERTING into REF_CAMPAIGN_PROCESS_STATUS
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (1,'Enrolled',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (2,'No response',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (3,'Undecided',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (4,'Not interested',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (5,'Interested',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (6,'Ineligible',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (7,'Awaiting eligibility',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (8,'Contacted',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (9,'Pending',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (10,'Completed',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (11,'On hold',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (12,'Excluded',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (13,'Forms generated',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (14,'Forms returned',null);
Insert into REF_CAMPAIGN_PROCESS_STATUS (PROCESS_STATUS_ID,PROCESS_STATUS_NAME,STATUS_DESCRIPTION) values (15,'Account(s) generated',null);



REM INSERTING into REF_CAMPAIGN_STATUS
Insert into REF_CAMPAIGN_STATUS (CAMPAIGN_STATUS_ID,CAMPAIGN_STATUS_NAME,STATUS_DESCRIPTION) values (1,'Active',null);
Insert into REF_CAMPAIGN_STATUS (CAMPAIGN_STATUS_ID,CAMPAIGN_STATUS_NAME,STATUS_DESCRIPTION) values (2,'Completed',null);


REM INSERTING into REF_CAMPAIGN_TYPE
Insert into REF_CAMPAIGN_TYPE (CAMPAIGN_TYPE_ID,CAMPAIGN_TYPE_NAME,TYPE_DESCRIPTION) values (1,'Fund Launch',null);

