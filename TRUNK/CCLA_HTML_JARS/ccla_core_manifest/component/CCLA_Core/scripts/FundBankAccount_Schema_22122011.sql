-- Table REF_FUND_BANK_ACCOUNT
CREATE TABLE REF_FUND_BANK_ACCOUNT(
  BANK_ACC_TYPE_ID Number(10,0) NOT NULL,
  BANK_ACCOUNT_ID Number(15,0) NOT NULL,
  FUND_CODE Varchar2(2 CHAR) NOT NULL
)
/
-- Add keys for table REF_FUND_BANK_ACCOUNT
ALTER TABLE REF_FUND_BANK_ACCOUNT ADD CONSTRAINT REF_FUND_BANK_ACCOUNT_PK PRIMARY KEY (FUND_CODE,BANK_ACC_TYPE_ID,BANK_ACCOUNT_ID)
/

-- Table REF_BANK_ACCOUNT_TYPE
CREATE TABLE REF_BANK_ACCOUNT_TYPE(
  BANK_ACC_TYPE_ID Number(10,0) NOT NULL,
  BANK_ACC_TYPE_NAME Varchar2(15 ) NOT NULL,
  BANK_ACC_TYPE_DESCRIPTION Varchar2(50 )
)
/
-- Add keys for table REF_BANK_ACCOUNT_TYPE
ALTER TABLE REF_BANK_ACCOUNT_TYPE ADD CONSTRAINT REF_BANK_ACC_TYPE_PK PRIMARY KEY (BANK_ACC_TYPE_ID)

/
CREATE INDEX BNKACC_REFFUNDBNKACC_IX ON REF_FUND_BANK_ACCOUNT (BANK_ACCOUNT_ID) 
/
ALTER TABLE REF_FUND_BANK_ACCOUNT ADD CONSTRAINT BNKACC_REFFUNDBNKACC_FK FOREIGN KEY (BANK_ACCOUNT_ID) REFERENCES BANK_ACCOUNT (BANK_ACCOUNT_ID)
/
CREATE INDEX FUND_REF_FUND_BANK_ACCOUNT_IX ON REF_FUND_BANK_ACCOUNT (FUND_CODE) 
/
ALTER TABLE REF_FUND_BANK_ACCOUNT ADD CONSTRAINT FUND_REF_FUND_BANK_ACCOUNT_FK FOREIGN KEY (FUND_CODE) REFERENCES FUND (FUND_CODE)
/
CREATE INDEX REFBNKACCTYPE_REFFUNDBNKACC_IX ON REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID) 
/
ALTER TABLE REF_FUND_BANK_ACCOUNT ADD CONSTRAINT REFBNKACCTYPE_REFFUNDBNKACC_FK FOREIGN KEY (BANK_ACC_TYPE_ID) REFERENCES REF_BANK_ACCOUNT_TYPE (BANK_ACC_TYPE_ID)
/

-- POPULATE REF_BANK_ACCOUNT_TYPE
INSERT INTO REF_BANK_ACCOUNT_TYPE (BANK_ACC_TYPE_ID, BANK_ACC_TYPE_NAME, BANK_ACC_TYPE_DESCRIPTION) VALUES (1, 'CAPITAL ADV', 'Captial In Advance Account');
INSERT INTO REF_BANK_ACCOUNT_TYPE (BANK_ACC_TYPE_ID, BANK_ACC_TYPE_NAME, BANK_ACC_TYPE_DESCRIPTION) VALUES (2, 'CURRENT', 'Current Account');


-- ADD MISSING CAPITAL IN ADVANCE BANK ACCOUNTS
-- CBF CAP IN ADVANCE
--F+K
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200000, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200000, '20103135', '151000');
--X+Y
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200001, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200001, '22089385', '151000');
--L+M
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200002, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200002, '22586168', '151000');

-- COIF CAP IN ADVANCE
-- T+R
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200003, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200003, '11601564', '151000');
-- A+B
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200004, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200004, '11601548', '151000');
-- U+Z
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200005, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200005, '22586338', '151000');
-- V+W
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200006, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200006, '21827730', '151000');
--AA+AB
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200007, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200007, '22896493', '151000');
-- T+R Bacs (Only)
INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
VALUES (2200008, 1, 0, 4, 0);
INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
VALUES (2200008, '11601629', '151000');

--CBF CAP S+J (DEV)
--INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
--VALUES (6178509, 1, 0, 4, 0);
--INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
--VALUES (6178509, '20103127', '151000');

-- CBF CAP P+N (DEV)
--INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
--VALUES (6178650, 1, 0, 4, 0);
--INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
--VALUES (6178650, '21148256', '151000');

-- COIF CURR P+N (DEV)
--INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
--VALUES (4545204, 1, 0, 4, 0);
--INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
--VALUES (4545204, '22895837', '151000');

-- LAMIT CURR (DEV)
--INSERT INTO ELEMENT (ELEMENT_ID, PREFERRED_CONTACTMETHOD, DO_NOT_CONTACT_FLAG, ELEMENT_TYPE_ID, KYC_SCORE)
--VALUES (6148750, 1, 0, 4, 0);
--INSERT INTO BANK_ACCOUNT (BANK_ACCOUNT_ID, ACCOUNT_NO, SORT_CODE) 
--VALUES (6148750, '15017409', '151000');

-- POPULATE FUND_BANK_ACCOUNT
--CBF CAP IN ADV
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200000, 'F');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200000, 'K');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 6178509, 'S');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 6178509, 'J');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 6178650, 'P');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 6178650, 'N');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200001, 'X');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200001, 'Y');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200002, 'L');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200002, 'M');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 4522329, 'D');

--CBF CURRENT
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529883, 'F');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529883, 'K');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529882, 'S');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529882, 'J');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529884, 'P');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529884, 'N');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529885, 'X');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529885, 'Y');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529886, 'L');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4529886, 'M');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4522341, 'D');


-- COIF CAP IN ADV
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200003, 'T');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200003, 'R');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200004, 'A');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200004, 'B');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200005, 'U');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200005, 'Z');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200006, 'V');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200006, 'W');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200007, 'AA');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200007, 'AB');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200008, 'T');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 2200008, 'R');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (1, 4543883, 'D');

--COIF CURR
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4513071, 'T');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4513071, 'R');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4513072, 'A');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4513072, 'B');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4503920, 'U');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4503920, 'Z');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4527754, 'V');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4527754, 'W');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4545204, 'AA');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4545204, 'AB');
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 4500483, 'D');

-- LAMIT
INSERT INTO REF_FUND_BANK_ACCOUNT (BANK_ACC_TYPE_ID, BANK_ACCOUNT_ID, FUND_CODE)
VALUES (2, 6148750, '62');

-- Create Synonym
CREATE OR REPLACE PUBLIC SYNONYM REF_FUND_BANK_ACCOUNT FOR CCLA.REF_FUND_BANK_ACCOUNT;
CREATE OR REPLACE PUBLIC SYNONYM REF_BANK_ACCOUNT_TYPE FOR CCLA.REF_BANK_ACCOUNT_TYPE;

-- Grant Access 
GRANT ALL ON REF_FUND_BANK_ACCOUNT TO UCMADMIN;
GRANT ALL ON REF_BANK_ACCOUNT_TYPE TO UCMADMIN;